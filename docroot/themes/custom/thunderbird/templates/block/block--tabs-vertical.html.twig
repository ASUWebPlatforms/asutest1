{{ attach_library('thunderbird/tabs-vertical-library') }}
{% set background = content.field_media[0]|render|striptags|trim %}
{% set classes = [
    'container',
    'tabs',
    'vertical',
    'block', 
    'block-' ~ configuration.provider|clean_class, 
    'block-' ~ plugin_id|clean_class
  ]
%}
<div {{ attributes.addClass(classes) }}>
    {{ title_prefix }}
    {{ title_suffix }}
  <div class="container corners">
    <div class="row">
      <div class="col-12 col-lg-6">
        <div class="background">
          <h2 class="heading">{{ content.field_heading|render|striptags|trim }}</h2>
        </div>
      </div>
      <div class="col-12 col-lg-6">
        <div class="background" style="background-image: url('{{ background }}');"></div>
        </div>
    </div>
    <div class="row">
      <div class="col-12 col-lg-6">
        {% for tab in content.field_tab['#items'] %}
           {% set title = tab.entity.field_heading.value %}
           {% set body = tab.entity.field_body.value %}
          <button class="toggle" aria-expanded="false" for="tabs-vertical-{{ loop.index }}" role="button">{{ title }} <div class="icon"></div><span class="fas fa-fab fa-arrow-right"></span></button>
          <div class="content" aria-expanded="false" id="tabs-vertical-{{ loop.index }}">
            <h3>{{ title }}</h3>
           {{ body|render|trim|raw }}
          </div>
        {% endfor %}
      </div>
      <div class="col-12 col-lg-6">
        {# This automatically gets populated for desktop views using jQuery #}
        <div class="preview"></div>
      </div>
    </div>
  </div>
</div>